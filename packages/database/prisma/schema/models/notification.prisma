model Notification {
  id String @id @default(uuid())

  userId String
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

  type NotificationType

  title String

  message String @db.Text

  relatedPaperId String?

  relatedUserId String?

  isRead Boolean @default(false)

  readAt DateTime?

  priority NotificationPriority @default(NORMAL)

  createdAt DateTime @default(now())

  @@index([userId])
  @@index([isRead])
  @@index([type])
  @@index([createdAt])
}

/// 알림 타입
enum NotificationType {
  /// 맞춤 추천 논문 - 사용자 관심사 기반 논문 추천
  RECOMMENDED_PAPER

  /// 비슷한 논문 - 북마크한 논문과 유사한 새 논문
  SIMILAR_PAPER

  /// 반대 주장 논문 - 북마크한 논문과 상반된 견해의 새 논문
  OPPOSING_PAPER

  /// 북마크 업데이트 - 북마크한 논문의 새로운 댓글/토론
  BOOKMARK_UPDATE

  /// 댓글 답변 - 내 댓글에 대한 답변
  COMMENT_REPLY

  /// 토론 활동 - 참여 중인 토론의 새 메시지
  DISCUSSION_ACTIVITY

  /// 주간 다이제스트 - 주간 하이라이트 및 인기 논문
  WEEKLY_DIGEST

  /// 시스템 알림 - 서비스 공지사항 등
  SYSTEM
}

/// 알림 우선순위
enum NotificationPriority {
  /// 낮음 - 일반 정보성 알림
  LOW

  /// 보통 - 기본 알림 (기본값)
  NORMAL

  /// 높음 - 중요 알림 (댓글 답변 등)
  HIGH

  /// 긴급 - 즉시 확인 필요 (시스템 중요 공지)
  URGENT
}
