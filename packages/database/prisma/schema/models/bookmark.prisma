/// 북마크 모델
/// 사용자가 찜한 논문을 저장
/// 나중에 읽기, 중요 논문 표시 등에 사용
model Bookmark {
  /// 북마크 고유 ID (UUID)
  id String @id @default(uuid())

  /// 사용자 ID
  userId String

  /// 사용자 객체
  /// 사용자 삭제 시 북마크도 함께 삭제 (Cascade)
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  /// 논문 ID
  paperId String

  /// 논문 객체
  /// 논문 삭제 시 북마크도 함께 삭제 (Cascade)
  paper Paper @relation(fields: [paperId], references: [id], onDelete: Cascade)

  /// 사용자가 추가한 메모 (선택 사항)
  /// 왜 이 논문을 저장했는지, 중요 포인트 등 기록
  note String?

  /// 북마크 폴더/카테고리 (선택 사항)
  /// 예: "Must Read", "Research Ideas", "Transformers"
  /// 사용자가 북마크를 분류하는 데 사용
  folder String?

  /// 북마크 생성 시각
  createdAt DateTime @default(now())

  /// 북마크 최종 수정 시각 (메모나 폴더 변경 시)
  updatedAt DateTime @updatedAt

  /// 사용자당 논문당 하나의 북마크만 가능 (중복 방지)
  @@unique([userId, paperId])
  /// 사용자별 북마크 목록 조회를 위한 인덱스
  @@index([userId])
  /// 논문별 북마크 수 집계를 위한 인덱스
  @@index([paperId])
  /// 최신 북마크 순 정렬을 위한 인덱스
  @@index([createdAt])
}
